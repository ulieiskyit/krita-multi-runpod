# URL of the always-on ComfyUI instance that serves as the duty (fallback) pod
DUTY_POD_URL="https://your-duty-pod-url/"
# Path the gateway polls on the duty pod for health checks
HEALTH_PATH="/queue"
# Timeout (seconds) for the duty pod health check request
HEALTH_TIMEOUT_S=10

# HTTP header expected to carry the user identifier for routing
USER_ID_HEADER="X-Comfy-User"
# Query parameter name that can provide the user identifier
USER_ID_QUERY_KEY="user_id"
# Require a user identifier (1=true) before routing to private pods
REQUIRE_USER_ID=1
# Allow falling back to client-provided ?client_id=... values when no header is present
USE_CLIENT_ID=1
# Allow using the client IP address as the identifier if nothing else is supplied
USE_CLIENT_IP=1

# Path to the RunPod configuration JSON loaded by the gateway
RUNPOD_CONFIG_PATH="runpod.config.json"
# RunPod API key used to provision and manage user pods (leave blank to disable RunPod)
RUNPOD_API_KEY="your_runpod_api_key_here"

# Template for constructing telemetry URLs for newly created pods
RUNPOD_TELEMETRY_TEMPLATE="https://{pod_id}-{port}.proxy.runpod.net"
# Port exposed by the telemetry agent inside each pod
RUNPOD_TELEMETRY_PORT=8000
# Interval (seconds) between telemetry polls while monitoring pods
RUNPOD_TELEMETRY_POLL_S=60
# Idle timeout (seconds) of zero GPU utilisation before tearing a pod down
RUNPOD_TELEMETRY_IDLE_S=600
# Minimum GPU utilisation percentage considered "active" for telemetry
RUNPOD_TELEMETRY_GPU_THRESHOLD=0
# Number of prompts a user must submit before a dedicated pod is provisioned
RUNPOD_PROMPT_THRESHOLD_COUNT=5
# Rolling window (seconds) for counting prompts toward the threshold
RUNPOD_PROMPT_THRESHOLD_WINDOW_S=60
